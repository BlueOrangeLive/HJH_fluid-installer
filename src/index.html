<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>FluidNC Web Installer</title>
        <link rel="icon" href="./assets/favicon.svg" />
        <link rel="stylesheet" href="./styles.scss" />

        <!-- Matomo -->
        <script>
            var _paq = (window._paq = window._paq || []);
            /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
            _paq.push(["trackPageView"]);
            _paq.push(["enableLinkTracking"]);
            (function () {
                var u = "https://matomo.bitpusher.se/";
                _paq.push(["setTrackerUrl", u + "matomo.php"]);
                _paq.push(["setSiteId", "2"]);
                var d = document,
                    g = d.createElement("script"),
                    s = d.getElementsByTagName("script")[0];
                g.async = true;
                g.src = u + "matomo.js";
                s.parentNode.insertBefore(g, s);
            })();
        </script>
        <!-- End Matomo Code -->

        <!-- Start Single Page Apps for GitHub Pages -->
        <script type="text/javascript">
            // Single Page Apps for GitHub Pages
            // MIT License
            // https://github.com/rafgraph/spa-github-pages
            // This script checks to see if a redirect is present in the query string,
            // converts it back into the correct url and adds it to the
            // browser's history using window.history.replaceState(...),
            // which won't cause the browser to attempt to load the new url.
            // When the single page app is loaded further down in this file,
            // the correct url will be waiting in the browser's history for
            // the single page app to route accordingly.
            (function (l) {
                if (l.search[1] === "/") {
                    var decoded = l.search
                        .slice(1)
                        .split("&")
                        .map(function (s) {
                            return s.replace(/~and~/g, "&");
                        })
                        .join("?");
                    window.history.replaceState(
                        null,
                        null,
                        l.pathname.slice(0, -1) + decoded + l.hash
                    );
                }
            })(window.location);
        </script>
        <!-- End Single Page Apps for GitHub Pages -->

        <script src="./index.tsx" type="module"></script>
    </head>

    <body>
        <div id="app"></div>
    </body>
</html>
